(window["webpackJsonpmind-drop"]=window["webpackJsonpmind-drop"]||[]).push([[0],{100:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},153:function(e,t,n){},156:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),l=n.n(c),o=(n(97),n(9)),u=(n(98),n(99),n(38)),i=n.n(u),s=n(17),d=n.n(s),f=n(42),p=n.n(f),m=(n(100),n(12));var b=function(){return r.a.createElement(i.a.Brand,{className:"Brand"},r.a.createElement(m.f,{icon:m.c,size:"medium"}),"Mind Drop")},E=(n(114),n(115),n(39)),v=n.n(E);function h(e){var t=e.label,n=e.onDelete;return r.a.createElement(v.a,{className:"RemovableLabel",variant:"primary"},r.a.createElement("span",null,t),r.a.createElement("button",{onClick:n},r.a.createElement(m.f,{width:8,icon:m.e})))}function O(e){var t=e.labels,n=e.addLabel,a=e.deleteLabel,c=r.a.useState(""),l=Object(o.a)(c,2),u=l[0],i=l[1];return r.a.createElement("div",{className:"form-control LabelsInput"},t.map(function(e){return r.a.createElement(h,{label:e,key:e,onDelete:(t=e,function(){a(t)})});var t}),r.a.createElement("input",{type:"text",value:u,onChange:function(e){var t=e.target.value;t.endsWith(" ")?(i(""),n(t.trim())):i(t)},className:"form-control"}))}var y=n(25);function g(e,t){return[].concat(Object(y.a)(e),[t])}function w(e,t){var n=e.indexOf(t);return-1===n?e:[].concat(Object(y.a)(e.slice(0,n)),Object(y.a)(e.slice(n+1,e.length)))}var j=n(30),x=n(8),k=n.n(x),C=n(18),D=n(40),T=n(87),S=n.n(T);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=function(){return window.history.replaceState({},document.title,window.location.pathname)},A=r.a.createContext(),N=function(){return Object(a.useContext)(A)},R=function(){var e=N(),t=e.isAuthenticated,n=e.loginWithRedirect,a=e.logout;return r.a.createElement("div",null,!t&&r.a.createElement("button",{onClick:function(){return n({})}},"Log in"),t&&r.a.createElement("button",{onClick:function(){return a()}},"Log out"))};function _(e){var t=e.labelFilter,n=e.setLabelFilter;return r.a.createElement(i.a,{bg:"dark",variant:"dark",className:"Navbar"},r.a.createElement(b,null),r.a.createElement(d.a,null,r.a.createElement(p.a,null,r.a.createElement(p.a.Prepend,null,r.a.createElement(p.a.Text,{id:"basic-addon1"},"Label")),r.a.createElement(O,{labels:t,addLabel:function(e){return n(function(t){return g(t,e)})},deleteLabel:function(e){return n(function(t){return w(t,e)})}}))),r.a.createElement(R,null))}n(126),n(127),n(128);var M=n(31),F=n.n(M),W=n(24),B=n.n(W),z=n(56),U=n.n(z),G=n(41),H=n.n(G);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var K="TITLE_SET",Q=function(e){return{type:K,title:e}},V="TEXT_SET",X=function(e){return{type:V,text:e}},$="LABEL_ADDED",Y=function(e){return{type:$,label:e}},Z="LABEL_REMOVED",ee=function(e){return{type:Z,label:e}},te="RESET",ne=function(e){return{type:te,value:e}},ae={title:"",text:"",labels:[]};function re(e,t){switch(t.type){case K:return q({},e,{title:t.title});case V:return q({},e,{text:t.text});case $:return q({},e,{labels:g(e.labels,t.label)});case Z:return q({},e,{labels:w(e.labels,t.label)});case te:return{title:t.value.title||ae.title,text:t.value.text||ae.text,labels:t.value.labels||ae.labels}}}function ce(e){var t=e.show,n=e.onSave,a=e.onCancel,c=e.value,l=r.a.useReducer(re,ae),u=Object(o.a)(l,2),i=u[0],s=u[1],f=r.a.useRef(),p=function(){s(ne(c))};r.a.useEffect(p,[c]);var m=function(e){return function(t){e(t),p()}},b=m(n),E=m(a);return r.a.createElement(F.a,{show:t,onHide:E,centered:!0,onEntered:function(){return f.current.focus()}},r.a.createElement(F.a.Header,{closeButton:!0},r.a.createElement(F.a.Title,null,"New card")),r.a.createElement(F.a.Body,null,r.a.createElement(d.a,null,r.a.createElement(d.a.Group,{as:U.a},r.a.createElement(d.a.Label,{column:!0,sm:2},"Title:"),r.a.createElement(H.a,null,r.a.createElement(d.a.Control,{ref:f,value:i.title,onChange:function(e){return s(Q(e.target.value))},placeholder:"Title"}))),r.a.createElement(d.a.Group,{as:U.a},r.a.createElement(d.a.Label,{column:!0,sm:2},"Label:"),r.a.createElement(H.a,null,r.a.createElement(O,{labels:i.labels,addLabel:function(e){return s(Y(e))},deleteLabel:function(e){return s(ee(e))}}))),r.a.createElement(d.a.Label,null,"Text:"),r.a.createElement(d.a.Control,{value:i.text,onChange:function(e){return s(X(e.target.value))},as:"textarea",rows:5}))),r.a.createElement(F.a.Footer,null,r.a.createElement(B.a,{variant:"secondary",onClick:E},"Close"),r.a.createElement(B.a,{variant:"primary",onClick:function(){return b({title:i.title,text:i.text,labels:i.labels})}},"Save Changes")))}n(153);var le=n(19),oe=n.n(le);var ue=function(e){var t=e.onClick;return r.a.createElement(oe.a,{bg:"secondary",className:"AddIdeaCard"},r.a.createElement(oe.a.Body,null,r.a.createElement(B.a,{variant:"dark",style:{width:"100%",height:"100%"},onClick:t},r.a.createElement(m.f,{icon:m.b,size:"medium"}))))},ie=(n(156),n(88)),se=n.n(ie);function de(e){var t=e.card,n=e.onDelete,a=e.onEdit;return r.a.createElement(oe.a,{style:{},className:"IdeaCard"},r.a.createElement(oe.a.Body,null,r.a.createElement(oe.a.Title,null,t.title),r.a.createElement(oe.a.Subtitle,null,t.labels.map(function(e){return r.a.createElement(v.a,{variant:"primary",key:e},e)})),r.a.createElement(oe.a.Text,{as:"div"},r.a.createElement(se.a,{source:t.text}))),r.a.createElement(oe.a.Footer,{className:"text-right"},r.a.createElement(B.a,{className:"edit",variant:"secondary",size:"sm",onClick:a},r.a.createElement(m.f,{icon:m.a,size:"small"})),r.a.createElement(B.a,{className:"delete",variant:"danger",size:"sm",onClick:n},r.a.createElement(m.f,{icon:m.d,size:"small"}))))}var fe=n(89),pe=n.n(fe);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ee={title:"",text:"",labels:[]},ve=function(e){return{type:"ITEMS_RELOADED",value:e}},he=function(e){return{type:"ITEMS_FILTERED",value:e}},Oe=function(){return{type:"ADD_ITEM"}},ye=function(e){return{type:"EDIT_ITEM",value:e}},ge=function(e){return{type:"ITEM_DELETED",value:e}},we=function(e){return{type:"CHANGE_APPLIED",value:e}},je=function(){return{type:"CHANGE_CANCELED"}},xe=function(e){var t=e.labelFilter.length>0?e.cards.filter(function(t){return-1!==t.labels.indexOf(e.labelFilter[0])}):e.cards;return be({},e,{filteredCards:t})},ke=function(e,t){switch(t.type){case"ITEMS_RELOADED":return xe(be({},e,{cards:t.value}));case"ITEMS_FILTERED":return xe(be({},e,{labelFilter:t.value}));case"ADD_ITEM":return be({},e,{showModal:!0,modalState:Ee});case"EDIT_ITEM":return be({},e,{showModal:!0,modalState:t.value,editItem:e.cards.indexOf(t.value)});case"ITEM_DELETED":var n=w(e.cards,t.value);return e.setCards(n),xe(be({},e,{cards:n}));case"CHANGE_CANCELED":return be({},e,{showModal:!1,editItem:null});case"CHANGE_APPLIED":var a=null!=e.editItem?(r=e.cards,c=e.editItem,l=t.value,c<0||c>r.length?r:[].concat(Object(y.a)(r.slice(0,c)),[l],Object(y.a)(r.slice(c+1,r.length)))):g(e.cards,t.value);return e.setCards(a),xe(be({},e,{showModal:!1,editItem:null,newCards:a}));default:return console.log("Unexpected action",t),e}var r,c,l},Ce={showModal:!1,modalState:Ee,editItem:null,labelFilter:[],filteredCards:[],cards:[]};function De(e){var t=e.labelFilter,n=e.cards,c=e.setCards,l=Object(a.useReducer)(ke,be({},Ce,{cards:n,setCards:c}),xe),u=Object(o.a)(l,2),i=u[0],s=u[1];return Object(a.useEffect)(function(){s(he(t))},[t]),Object(a.useEffect)(function(){s(ve(n))},[n]),r.a.createElement("div",{className:"IdeasDashboard"},r.a.createElement(pe.a,null,i.filteredCards.map(function(e,t){return r.a.createElement(de,{key:t,card:e,onDelete:function(){return s(ge(e))},onEdit:function(){return s(ye(e))}})}),r.a.createElement(ue,{onClick:function(){return s(Oe())}})),r.a.createElement(ce,{show:i.showModal,onCancel:function(){return s(je())},onSave:function(e){return s(we(e))},value:i.modalState}))}function Te(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),c=n[0],l=n[1],u=N().getTokenSilently,i=function(){var e=Object(C.a)(k.a.mark(function e(){var t,n,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:return t=e.sent,e.next=6,fetch("".concat("https://minddrop.herokuapp.com","/app-data"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,e.next=9,n.json();case 9:a=e.sent,console.log(a),l(a.cards),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)(function(){null==c&&i()},[c]);var s=function(){var e=Object(C.a)(k.a.mark(function e(t){var n,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:return n=e.sent,e.next=6,fetch("".concat("https://minddrop.herokuapp.com","/app-data"),{method:"POST",body:JSON.stringify({name:"global",cards:t}),headers:{Authorization:"Bearer ".concat(n)}});case 6:return a=e.sent,e.next=9,a.text();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(C.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:i();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Container"},r.a.createElement(De,Object.assign({},e,{cards:c||[],setCards:d})))}De.defaultProps={initialCards:null};var Se=n(26),Pe=function(e){var t=e.component,n=e.path,c=Object(D.a)(e,["component","path"]),l=N(),o=l.loading,u=l.isAuthenticated,i=l.loginWithRedirect;Object(a.useEffect)(function(){o||u||function(){var e=Object(C.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({appState:{targetUrl:n}});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[o,u,i,n]);return r.a.createElement(Se.a,Object.assign({path:n,render:function(e){return!0===u?r.a.createElement(t,e):null}},c))};var Le=function(){var e=r.a.useState([]),t=Object(o.a)(e,2),n=t[0],a=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement(_,{labelFilter:n,setLabelFilter:a}),r.a.createElement(Pe,{component:function(){return r.a.createElement(Te,{labelFilter:n})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(237);var Ie=n(43),Ae=n(55);l.a.render(r.a.createElement(function(e){var t=e.children,n=e.onRedirectCallback,c=void 0===n?I:n,l=e.returnTo,u=Object(D.a)(e,["children","onRedirectCallback","returnTo"]),i=Object(a.useState)(),s=Object(o.a)(i,2),d=s[0],f=s[1],p=Object(a.useState)(),m=Object(o.a)(p,2),b=m[0],E=m[1],v=Object(a.useState)(),h=Object(o.a)(v,2),O=h[0],y=h[1],g=Object(a.useState)(!0),w=Object(o.a)(g,2),j=w[0],x=w[1],T=Object(a.useState)(!1),P=Object(o.a)(T,2),N=P[0],R=P[1];Object(a.useEffect)(function(){(function(){var e=Object(C.a)(k.a.mark(function e(){var t,n,a,r,l;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()(u);case 2:if(t=e.sent,y(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,c(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,f(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:l=e.sent,E(l);case 19:x(!1);case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]);var _=function(){var e=Object(C.a)(k.a.mark(function e(){var t,n,a=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},R(!0),e.prev=2,e.next=5,O.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,R(!1),e.finish(10);case 13:return e.next=15,O.getUser();case 15:n=e.sent,E(n),f(!0);case 18:case"end":return e.stop()}},e,null,[[2,7,10,13]])}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(C.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,O.handleRedirectCallback();case 3:return e.next=5,O.getUser();case 5:t=e.sent,x(!1),f(!0),E(t);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(A.Provider,{value:{isAuthenticated:d,user:b,loading:j,popupOpen:N,loginWithPopup:_,handleRedirectCallback:M,getIdTokenClaims:function(){return O.getIdTokenClaims.apply(O,arguments)},loginWithRedirect:function(){return O.loginWithRedirect.apply(O,arguments)},getTokenSilently:function(){return O.getTokenSilently.apply(O,arguments)},getTokenWithPopup:function(){return O.getTokenWithPopup.apply(O,arguments)},logout:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O.logout(L({},t,{returnTo:l}))}}},t)},{domain:Ie.domain,client_id:Ie.clientId,redirect_uri:window.location,onRedirectCallback:function(e){window.history.replaceState({},document.title,e&&e.targetUrl?e.targetUrl:window.location.pathname)},audience:Ie.audience,returnTo:window.location},r.a.createElement(Ae.a,null,r.a.createElement(Le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e){e.exports=JSON.parse('{"domain":"soft-poetry-3210.eu.auth0.com","clientId":"poAJRJA9W0qgqWKx5L-pQwMgridd6Fxn","audience":"https://minddrop.herokuapp.com"}')},92:function(e,t,n){e.exports=n(238)},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[92,1,2]]]);
//# sourceMappingURL=main.5b5fa26a.chunk.js.map
(window["webpackJsonpmind-drop"]=window["webpackJsonpmind-drop"]||[]).push([[0],{100:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},153:function(e,t,n){},156:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),l=n.n(c),o=(n(97),n(8)),u=(n(98),n(99),n(37)),i=n.n(u),s=n(17),d=n.n(s),f=n(42),p=n.n(f),m=(n(100),n(12));var b=function(){return r.a.createElement(i.a.Brand,{className:"Brand"},r.a.createElement(m.f,{icon:m.c,size:"medium"}),"Mind Drop")},E=(n(114),n(115),n(38)),v=n.n(E);function h(e){var t=e.label,n=e.onDelete;return r.a.createElement(v.a,{className:"RemovableLabel",variant:"primary"},r.a.createElement("span",null,t),r.a.createElement("button",{onClick:n},r.a.createElement(m.f,{width:8,icon:m.e})))}function O(e){var t=e.labels,n=e.addLabel,a=e.deleteLabel,c=r.a.useState(""),l=Object(o.a)(c,2),u=l[0],i=l[1];return r.a.createElement("div",{className:"form-control LabelsInput"},t.map(function(e){return r.a.createElement(h,{label:e,key:e,onDelete:(t=e,function(){a(t)})});var t}),r.a.createElement("input",{type:"text",value:u,onChange:function(e){var t=e.target.value;t.endsWith(" ")?(i(""),n(t.trim())):i(t)},className:"form-control"}))}var y=n(25);function g(e,t){return[].concat(Object(y.a)(e),[t])}function w(e,t){var n=e.indexOf(t);return-1===n?e:[].concat(Object(y.a)(e.slice(0,n)),Object(y.a)(e.slice(n+1,e.length)))}var j=n(10),x=n.n(j),C=n(22),k=n(39),D=n(87),S=n.n(D),T=function(){return window.history.replaceState({},document.title,window.location.pathname)},I=r.a.createContext(),L=function(){return Object(a.useContext)(I)},P=function(){var e=L(),t=e.isAuthenticated,n=e.loginWithRedirect,a=e.logout;return r.a.createElement("div",null,!t&&r.a.createElement("button",{onClick:function(){return n({})}},"Log in"),t&&r.a.createElement("button",{onClick:function(){return a()}},"Log out"))};function A(e){var t=e.labelFilter,n=e.setLabelFilter;return r.a.createElement(i.a,{bg:"dark",variant:"dark",className:"Navbar"},r.a.createElement(b,null),r.a.createElement(d.a,null,r.a.createElement(p.a,null,r.a.createElement(p.a.Prepend,null,r.a.createElement(p.a.Text,{id:"basic-addon1"},"Label")),r.a.createElement(O,{labels:t,addLabel:function(e){return n(function(t){return g(t,e)})},deleteLabel:function(e){return n(function(t){return w(t,e)})}}))),r.a.createElement(P,null))}n(126);var N=n(41),R=(n(127),n(128),n(30)),_=n.n(R),M=n(24),F=n.n(M),B=n(56),W=n.n(B),z=n(40),G=n.n(z);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach(function(t){Object(N.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var J="TITLE_SET",X=function(e){return{type:J,title:e}},V="TEXT_SET",Y=function(e){return{type:V,text:e}},Z="LABEL_ADDED",$=function(e){return{type:Z,label:e}},q="LABEL_REMOVED",K=function(e){return{type:q,label:e}},Q="RESET",ee=function(e){return{type:Q,value:e}},te={title:"",text:"",labels:[]};function ne(e,t){switch(t.type){case J:return U({},e,{title:t.title});case V:return U({},e,{text:t.text});case Z:return U({},e,{labels:g(e.labels,t.label)});case q:return U({},e,{labels:w(e.labels,t.label)});case Q:return{title:t.value.title||te.title,text:t.value.text||te.text,labels:t.value.labels||te.labels}}}function ae(e){var t=e.show,n=e.onSave,a=e.onCancel,c=e.value,l=r.a.useReducer(ne,te),u=Object(o.a)(l,2),i=u[0],s=u[1],f=r.a.useRef(),p=function(){s(ee(c))};r.a.useEffect(p,[c]);var m=function(e){return function(t){e(t),p()}},b=m(n),E=m(a);return r.a.createElement(_.a,{show:t,onHide:E,centered:!0,onEntered:function(){return f.current.focus()}},r.a.createElement(_.a.Header,{closeButton:!0},r.a.createElement(_.a.Title,null,"New card")),r.a.createElement(_.a.Body,null,r.a.createElement(d.a,null,r.a.createElement(d.a.Group,{as:W.a},r.a.createElement(d.a.Label,{column:!0,sm:2},"Title:"),r.a.createElement(G.a,null,r.a.createElement(d.a.Control,{ref:f,value:i.title,onChange:function(e){return s(X(e.target.value))},placeholder:"Title"}))),r.a.createElement(d.a.Group,{as:W.a},r.a.createElement(d.a.Label,{column:!0,sm:2},"Label:"),r.a.createElement(G.a,null,r.a.createElement(O,{labels:i.labels,addLabel:function(e){return s($(e))},deleteLabel:function(e){return s(K(e))}}))),r.a.createElement(d.a.Label,null,"Text:"),r.a.createElement(d.a.Control,{value:i.text,onChange:function(e){return s(Y(e.target.value))},as:"textarea",rows:5}))),r.a.createElement(_.a.Footer,null,r.a.createElement(F.a,{variant:"secondary",onClick:E},"Close"),r.a.createElement(F.a,{variant:"primary",onClick:function(){return b({title:i.title,text:i.text,labels:i.labels})}},"Save Changes")))}n(153);var re=n(18),ce=n.n(re);var le=function(e){var t=e.onClick;return r.a.createElement(ce.a,{bg:"secondary",className:"AddIdeaCard"},r.a.createElement(ce.a.Body,null,r.a.createElement(F.a,{variant:"dark",style:{width:"100%",height:"100%"},onClick:t},r.a.createElement(m.f,{icon:m.b,size:"medium"}))))},oe=(n(156),n(88)),ue=n.n(oe);function ie(e){var t=e.card,n=e.onDelete,a=e.onEdit;return r.a.createElement(ce.a,{style:{},className:"IdeaCard"},r.a.createElement(ce.a.Body,null,r.a.createElement(ce.a.Title,null,t.title),r.a.createElement(ce.a.Subtitle,null,t.labels.map(function(e){return r.a.createElement(v.a,{variant:"primary",key:e},e)})),r.a.createElement(ce.a.Text,{as:"div"},r.a.createElement(ue.a,{source:t.text}))),r.a.createElement(ce.a.Footer,{className:"text-right"},r.a.createElement(F.a,{className:"edit",variant:"secondary",size:"sm",onClick:a},r.a.createElement(m.f,{icon:m.a,size:"small"})),r.a.createElement(F.a,{className:"delete",variant:"danger",size:"sm",onClick:n},r.a.createElement(m.f,{icon:m.d,size:"small"}))))}var se=n(89),de=n.n(se);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(n,!0).forEach(function(t){Object(N.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var me={title:"",text:"",labels:[]},be=function(e){return{type:"ITEMS_RELOADED",value:e}},Ee=function(e){return{type:"ITEMS_FILTERED",value:e}},ve=function(){return{type:"ADD_ITEM"}},he=function(e){return{type:"EDIT_ITEM",value:e}},Oe=function(e){return{type:"ITEM_DELETED",value:e}},ye=function(e){return{type:"CHANGE_APPLIED",value:e}},ge=function(){return{type:"CHANGE_CANCELED"}},we=function(e){var t=e.labelFilter.length>0?e.cards.filter(function(t){return-1!==t.labels.indexOf(e.labelFilter[0])}):e.cards;return pe({},e,{filteredCards:t})},je=function(e,t){switch(t.type){case"ITEMS_RELOADED":return we(pe({},e,{cards:t.value}));case"ITEMS_FILTERED":return we(pe({},e,{labelFilter:t.value}));case"ADD_ITEM":return pe({},e,{showModal:!0,modalState:me});case"EDIT_ITEM":return pe({},e,{showModal:!0,modalState:t.value,editItem:e.cards.indexOf(t.value)});case"ITEM_DELETED":var n=w(e.cards,t.value);return e.setCards(n),we(pe({},e,{cards:n}));case"CHANGE_CANCELED":return pe({},e,{showModal:!1,editItem:null});case"CHANGE_APPLIED":var a=null!=e.editItem?(r=e.cards,c=e.editItem,l=t.value,c<0||c>r.length?r:[].concat(Object(y.a)(r.slice(0,c)),[l],Object(y.a)(r.slice(c+1,r.length)))):g(e.cards,t.value);return e.setCards(a),we(pe({},e,{showModal:!1,editItem:null,newCards:a}));default:return console.log("Unexpected action",t),e}var r,c,l},xe={showModal:!1,modalState:me,editItem:null,labelFilter:[],filteredCards:[],cards:[]};function Ce(e){var t=e.labelFilter,n=e.cards,c=e.setCards,l=Object(a.useReducer)(je,pe({},xe,{cards:n,setCards:c}),we),u=Object(o.a)(l,2),i=u[0],s=u[1];return Object(a.useEffect)(function(){s(Ee(t))},[t]),Object(a.useEffect)(function(){s(be(n))},[n]),r.a.createElement("div",{className:"IdeasDashboard"},r.a.createElement(de.a,null,i.filteredCards.map(function(e,t){return r.a.createElement(ie,{key:t,card:e,onDelete:function(){return s(Oe(e))},onEdit:function(){return s(he(e))}})}),r.a.createElement(le,{onClick:function(){return s(ve())}})),r.a.createElement(ae,{show:i.showModal,onCancel:function(){return s(ge())},onSave:function(e){return s(ye(e))},value:i.modalState}))}function ke(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),c=n[0],l=n[1],u=L().getTokenSilently,i=function(){var e=Object(C.a)(x.a.mark(function e(){var t,n,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:return t=e.sent,e.next=6,fetch("".concat("https://secret-oasis-72243.herokuapp.com","/app-data"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,e.next=9,n.json();case 9:a=e.sent,console.log(a),l(a.cards),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)(function(){null==c&&i()},[c]);var s=function(){var e=Object(C.a)(x.a.mark(function e(t){var n,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:return n=e.sent,e.next=6,fetch("".concat("https://secret-oasis-72243.herokuapp.com","/app-data"),{method:"POST",body:JSON.stringify({name:"global",cards:t}),headers:{Authorization:"Bearer ".concat(n)}});case 6:return a=e.sent,e.next=9,a.text();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Container"},r.a.createElement(Ce,Object.assign({},e,{cards:c||[],setCards:function(e){s(e),i()}})))}Ce.defaultProps={initialCards:null};var De=n(26),Se=function(e){var t=e.component,n=e.path,c=Object(k.a)(e,["component","path"]),l=L(),o=l.loading,u=l.isAuthenticated,i=l.loginWithRedirect;Object(a.useEffect)(function(){o||u||function(){var e=Object(C.a)(x.a.mark(function e(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({appState:{targetUrl:n}});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[o,u,i,n]);return r.a.createElement(De.a,Object.assign({path:n,render:function(e){return!0===u?r.a.createElement(t,e):null}},c))};var Te=function(){var e=r.a.useState([]),t=Object(o.a)(e,2),n=t[0],a=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement(A,{labelFilter:n,setLabelFilter:a}),r.a.createElement(Se,{component:function(){return r.a.createElement(ke,{labelFilter:n})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(237);var Ie=n(43),Le=n(55);l.a.render(r.a.createElement(function(e){var t=e.children,n=e.onRedirectCallback,c=void 0===n?T:n,l=Object(k.a)(e,["children","onRedirectCallback"]),u=Object(a.useState)(),i=Object(o.a)(u,2),s=i[0],d=i[1],f=Object(a.useState)(),p=Object(o.a)(f,2),m=p[0],b=p[1],E=Object(a.useState)(),v=Object(o.a)(E,2),h=v[0],O=v[1],y=Object(a.useState)(!0),g=Object(o.a)(y,2),w=g[0],j=g[1],D=Object(a.useState)(!1),L=Object(o.a)(D,2),P=L[0],A=L[1];Object(a.useEffect)(function(){(function(){var e=Object(C.a)(x.a.mark(function e(){var t,n,a,r,o;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()(l);case 2:if(t=e.sent,O(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,c(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,d(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:o=e.sent,b(o);case 19:j(!1);case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]);var N=function(){var e=Object(C.a)(x.a.mark(function e(){var t,n,a=arguments;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},A(!0),e.prev=2,e.next=5,h.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,A(!1),e.finish(10);case 13:return e.next=15,h.getUser();case 15:n=e.sent,b(n),d(!0);case 18:case"end":return e.stop()}},e,null,[[2,7,10,13]])}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(C.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,h.handleRedirectCallback();case 3:return e.next=5,h.getUser();case 5:t=e.sent,j(!1),d(!0),b(t);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(I.Provider,{value:{isAuthenticated:s,user:m,loading:w,popupOpen:P,loginWithPopup:N,handleRedirectCallback:R,getIdTokenClaims:function(){return h.getIdTokenClaims.apply(h,arguments)},loginWithRedirect:function(){return h.loginWithRedirect.apply(h,arguments)},getTokenSilently:function(){return h.getTokenSilently.apply(h,arguments)},getTokenWithPopup:function(){return h.getTokenWithPopup.apply(h,arguments)},logout:function(){return h.logout.apply(h,arguments)}}},t)},{domain:Ie.domain,client_id:Ie.clientId,redirect_uri:window.location,onRedirectCallback:function(e){window.history.replaceState({},document.title,e&&e.targetUrl?e.targetUrl:window.location.pathname)},audience:Ie.audience},r.a.createElement(Le.a,null,r.a.createElement(Te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e){e.exports=JSON.parse('{"domain":"summer-sun-3021.auth0.com","clientId":"Az6pH4SJN4jvt6rXiJBRC0DnYG_v3lZ6","audience":"backend"}')},92:function(e,t,n){e.exports=n(238)},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[92,1,2]]]);
//# sourceMappingURL=main.376ad43e.chunk.js.map